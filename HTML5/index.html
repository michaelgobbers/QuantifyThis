<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Quantify This!</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<link href="verticalSlider.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="style.css" />
<script src="verticalSlider.js"></script>
<script src="gae_functions.js"></script>
<script src="calendar_api.js"></script>
<script src="https://apis.google.com/js/client.js?onload=loadCalendar"></script>
<script src="heart_rate.js?onload=startAccelerometerOutput"></script>
<style type="text/css" ></style>
<style type="text/css">
a {text-decoration:none;}
#step .item {
  list-style-type: none; 
  background: url(images/list-line.png) no-repeat;
  padding-top:5px;
}
</style>
 
</head>

<body>
<!-- Home Page! -->
<div data-role="page" data-theme="b" id="Home">
  <!-- Home Page Header -->
  <div data-role="header" data-position="inline">
  	<h1>Quantify This!</h1>
	<a id='authorize-button-calendar'><center><img src="images/login-button.png" alt="Log in with google account for access to google calendar" width="100px" ></center></a><br/>
	<a onclick="loginAppEngine()" id='authorize-button-appengine'><center><img src="images/login-button.png" alt="Log in with google account for access to app engine." width="100px" ></center></a>
  </div>
    <div data-role="content">
    <div id="weatherElement"></div>
  <center>
    <!-- Buttons Table! -->
    <table>
      <tr>
	<td><a href="#MarkMyMood"><center><img src="images/mood.png" alt="Mark my mood" width="100px"></center></a></td>
	<td><a href="#CalendarView"><center><img src="images/calendar_view.png" alt="Calendar View" width="100px"></center></a></td>
      </tr>
      <tr>
	<td><center><a href="#MarkMyMood"> Mark my mood</a></center></td>
	<td><center><a href="#CalendarView">Calendar view</a></center></td>
      </tr>
      <tr>
	<td><a href="#Statistics"><center><img src="images/statistics.png" alt="Statistics" width="100px"></center></a></td>
	<td><a href="settings.html" data-ajax="false"><center><img src="images/settings.png" alt="Settings" width="100px"></center></a></td>
      </tr>
      <tr>
	<td><center><a href="#Statistics">Statistics</a></center></td>
	<td><center><a href="settings.html" data-ajax="false">Settings</a></center></td>
      </tr>
    </table>
  </center>
  <br/>
  <hr />
  <p>Tip of the day</p>
  <br/><br/><br/><br/><br/><br/><br/><br/>
  </div>
  <!-- Home Page Footer -->
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>


<!-- MarkMyMood PAGE! -->
<div data-role="page" data-theme="b" id="MarkMyMood">
  <div data-role="header">
	  <h1>Mark My Mood</h1>
	    <a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown" onclick="returnFromMarkMood()">Back</a>
  </div>
  <center>
  <div data-role="content">
  <p id="markevent">No event selected</p>
  <input type="hidden" name="markeventid" id="markeventid" />
  <input type="hidden" name="eventcategory" id="eventcategory" />
  <input type="hidden" name="temperature" id="temperature" value="null"/>
    <table>
<tr>
<td style="padding-right:20px"><input type="range" id="slider1" min="0" max="100" value="20" step="1" sliderOrientation="verticalInverted"  /></td>
<td style="padding-right:20px"><input type="range" id="slider2" min="0" max="100" value="20" step="1" sliderOrientation="verticalInverted"  /></td>
<td style="padding-right:20px"><input type="range" id="slider3" min="0" max="100" value="20" step="1" sliderOrientation="verticalInverted"  /></td>
<td style="padding-right:20px"><input type="range" id="slider4" min="0" max="100" value="20" step="1" sliderOrientation="verticalInverted"  /></td>
<td style="padding-right:20px"><input type="range" id="slider5" min="0" max="100" value="20" step="1" sliderOrientation="verticalInverted"  /></td>
</tr>
<tr>
<td style="padding-left:10px">Angry</td>
<td style="padding-left:10px">Stress</td>
<td style="padding-left:10px">Mellow</td>
<td style="padding-left:10px">Happy</td>
<td style="padding-left:10px">Energized</td>
</tr>
</table>
<br/>
<table>
<tr>
<td><a href="#HeartRate" id="heartratebutton"><center><img src="images/heartrate.png" alt="Heart Rate" width="150px"></center></a></td>
<td><a href="#SleepTime" id="sleepbutton"><center><img src="images/sleeptime.png" alt="Amount of Sleep" width="150px"></center></a></td>
</tr>
<tr>
<td style="padding-left:30px"><a href="#HeartRate" id="heartratebuttontext">Heart Rate</a> </td>
<td style="padding-left:55px"><a href="#SleepTime" id="sleepbuttontext">Sleep</a> </td>
</tr>
</table>
<div data-role="controlgroup" data-type="horizontal">
	 		<a href="#MarkMoodThanks" data-role="button" data-icon="check" data-inline="true" onclick="sendMood()">Mark my mood</a>
	</div>
  </div>
  </center>
  <div data-role="footer">
    <h4>&copy;  Quantify This! Designers</h4>
  </div>
</div>



<!--  Thanks PAGE! -->
<div data-role="page" data-theme="b" id="MarkMoodThanks">

  <div data-role="header" data-position="inline">
  	<h1>Mark My Mood - Thanks</h1>
		<a href="#MarkMyMood" rel="external" data-icon="arrow-l" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content"> 
   <p>Hier komt een bedankje omdat de gebruiker zijn mood heeft ingevuld.</p>    
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>




<!--  Calendar View PAGE! -->
<div data-role="page" data-theme="b" id="CalendarView">

  <div data-role="header" data-position="inline">
  	<h1>Mark My Mood - Calendar View</h1>
		<a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content" data-theme="b">
    <div data-role="fieldcontain" class="ui-field-contain ui-body ui-br">
    <label for="number" class="ui-input-text">Amount of days back to show:</label>
    <input type="number" name="eventsdays" id="eventsdays" value="1" class="ui-input-text ui-body-c ui-corner-all ui-shadow-inset">
   </div>
    <div data-role="fieldcontain" id='categories-container' style="text-align: center;">
 	
    </div>
    
    <div id="events-container">
      <ul data-role="listview" id="events-list" data-theme="b">
      </ul>
    </div>
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>




<!--  Statistics View PAGE! -->
<div data-role="page" data-theme="b" id="Statistics">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Statistics</h1>
		<a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content"> 
   <p>Hier komen de statistieken.</p>    
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>



<!-- Sleep Page! -->
<div data-role="page" data-theme="b" id="SleepTime">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Amount of Sleep</h1>
<a href="#MarkMyMood" data-icon="arrow-l" rel="external" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content">
    <center>
   <p>How many hours did you sleep?</p>
	 <input type="range" name="slider-many-hours" id="slider-many-hours" value="8" min="1" max="22" data-highlight="true" />   
	 <p>How well did you sleep?</p>
	 <input type="range" name="slider-eff" id="slider-eff" value="7" min="1" max="10" data-highlight="true" />    
	 <br/><br/><br/>

	<br/><br/><br/>
	</center>
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>



<!--  Heart Rate PAGE! -->
<div data-role="page" data-theme="b" id="HeartRate">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Heart Rate</h1>
<a href="#MarkMyMood" data-icon="arrow-l" rel="external" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

  <div data-role="content"> 
   <div data-role="fieldcontain" class="ui-field-contain ui-body ui-br">
    <label for="number" class="ui-input-text">Heartrate:</label>
    <input type="number" name="heartrate" id="heartrate" value="" class="ui-input-text ui-body-c ui-corner-all ui-shadow-inset">
   </div>
   <div>
    <p id="acceleration"></p>
    <p id="acceleration-gravity"></p>
   </div>

    <script>
    var x=document.getElementById("weather");
    function getLocation()
    {
      if (navigator.geolocation)
      {
	navigator.geolocation.getCurrentPosition(showPosition);
      }
      else{
	x.innerHTML="Geolocation is not supported by this browser.";
      }
    }
    function getTemp(){
      showPosition
    }
    function showPosition(position)
      {
     
	    
			    var APPID = 'dj0yJmk9OTFZSWlwM29rWVRFJmQ9WVdrOWVYQnNVMUZoTjJrbWNHbzlOakV4TnpNMk9UWXkmcz1jb25zdW1lcnNlY3JldCZ4PTky';		// our Yahoo APP id
			    var DEG = 'c';	
			    var lat = position.coords.latitude;
		var lon = position.coords.longitude;
		var geoAPI = 'http://where.yahooapis.com/geocode?location='+lat+','+lon+'&flags=J&gflags=R&appid='+APPID;
	       
		var wsql = 'select * from weather.forecast where woeid=WID and u="'+DEG+'"',
		weatherYQL = 'http://query.yahooapis.com/v1/public/yql?q='+encodeURIComponent(wsql)+'&format=json&callback=?',code, city, results, woeid;
		    
		    $.getJSON(geoAPI, function(r){
		   
		    if(r.ResultSet.Found == 1){
			    
			results = r.ResultSet.Results;
			city = results[0].city;
			code = results[0].statecode || results[0].countrycode;
		
			// This is the city identifier for the Yahoo weather API
			woeid = results[0].woeid;
	    
			// Make a weather API request:
			$.getJSON(weatherYQL.replace('WID',woeid), function(r){
			    if(r.query && r.query.count == 1){
				var item = r.query.results.channel.item.condition;       
				if(!item){
				  $("#temperature").val(null);
				    return null;
				}
				$("#temperature").val(item.temp);
			       return item.temp;
			    }
			    else {
				showError("Error retrieving weather data!");
			    }
			});
		    }     
		}).error(function(){
		    showError("Your browser does not support CORS requests!");
		});
	       
	    }
    
    </script>
</div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>
</body>
</html>
