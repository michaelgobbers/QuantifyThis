<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Quantify This!</title>
	
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />	
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<!--<link href="css/verticalSlider.css" rel="stylesheet" type="text/css" />-->

	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
	<script src="http://d3js.org/d3.v2.js"></script>
	<!--<script src="js/verticalSlider.js"></script>-->
	<script src="js/gae_functions.js"></script>
	<script src="js/calendar_api.js"></script>
	<script src="https://apis.google.com/js/client.js?onload=loadCalendar"></script>
	<script src="js/heart_rate.js?onload=startAccelerometerOutput"></script>
</head>

<body>
<!-- Home Page! -->
<div data-role="page" data-theme="b" id="Home">
  <!-- Home Page Header -->
  <div data-role="header" data-position="inline">
  	<h1>Quantify This!</h1>
	
	
  </div>
  <div data-role="content">
	<div class="wrap">
		<div class="important">
			<a id='authorize-button-calendar'>Please grant access to your google calendar</a>
		</div>
		<div class="important" id='authorize-button-appengine'>
			<a onclick="loginAppEngine()">Please log in to google app engine</a>
		</div>
	
		<div class="wrap buttonbar">
			<div class="big_button">
				<a href="#MarkMyMood">
					<img src="images/mood.png" alt="Mark my mood" />
					<div class="label">Mark My Mood</div>
				</a>
			</div>
			<div class="big_button">
				<a href="#CalendarView">
					<img src="images/calendar_view.png" alt="Calendar View" />
					<div class="label">Calendar View</div>
				</a>
			</div>
			<div class="big_button">
				<a href="#Statistics">
					<img src="images/statistics.png" alt="Statistics" />
					<div class="label">Statistics</div>
				</a>
			</div>
			<div class="big_button">
				<a href="#settings.html" data-ajax="false">
					<img src="images/settings.png" alt="Settings" />
					<div class="label">Settings</div>
				</a>
			</div>
			
		</div>	
		<hr/>

		<div class="notify">
			Tip of the day!
		</div>
		<div class="notify">
			Another tip of the day
		</div>

	</div>
  </div>
  <!-- Home Page Footer -->
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>


<!-- MarkMyMood PAGE! -->
<div data-role="page" data-theme="b" id="MarkMyMood">
  <div data-role="header">
	  <h1>Mark My Mood</h1>
	    <a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown" onclick="returnFromMarkMood()">Back</a>
  </div>

  <div data-role="content">
	<div class="wrap">
		<p id="markevent">No event selected</p>
		<input type="hidden" name="markeventid" id="markeventid" />
		<input type="hidden" name="eventcategory" id="eventcategory" />
		<input type="hidden" name="temperature" id="temperature" value="null"/>
		
		<div class="center">
			<div class="slider_block">
				<label class="first">Energized</label>
				<input type="range" id="slider1" min="0" max="100" value="50" step="1" />
				<label class="last">Tired</label>
			</div>
			<div class="slider_block">
				<label class="first">Focused</label>
				<input type="range" id="slider2" min="0" max="100" value="50" step="1" />
				<label class="last">Distracted</label>
			</div>
			<div class="slider_block">
				<label class="first">Happy</label>
				<input type="range" id="slider3" min="0" max="100" value="50" step="1" />
				<label class="last">Sad</label>
			</div>
			<div class="slider_block">
				<label class="first">Loving</label>
				<input type="range" id="slider4" min="0" max="100" value="50" step="1" />
				<label class="last">Angry</label>
			</div>
			<div class="slider_block">
				<label class="first">Calm</label>
				<input type="range" id="slider5" min="0" max="100" value="50" step="1" />
				<label class="last">Stressed</label>
			</div>
		</div>
		
		<div class="wrap">
			<div class="big_button">
				<a href="#HeartRate" id="heartratebutton">
					<img src="images/heartrate.png" alt="Heart Rate" width="150px">
					<div class="label">Heart Rate</div>
				</a>
			</div>
			<div class="big_button">
				<a href="#SleepTime" id="sleepbutton">
					<img src="images/sleeptime.png" alt="Amount of Sleep" width="150px">
					<div class="label">Sleep</div>
				</a>
			</div>
		</div>

		<div data-role="controlgroup" data-type="horizontal">
				<a href="#MarkMoodThanks" data-role="button" data-icon="check" data-inline="true" onclick="sendMood()">Mark my mood</a>
		</div>
	</div>
  </div>
  <div data-role="footer">
    <h4>&copy;  Quantify This! Designers</h4>
  </div>
</div>



<!--  Thanks PAGE! -->
<div data-role="page" data-theme="b" id="MarkMoodThanks">

  <div data-role="header" data-position="inline">
  	<h1>Mark My Mood - Thanks</h1>
		<a href="#MarkMyMood" rel="external" data-icon="arrow-l" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content"> 
   <p>Hier komt een bedankje omdat de gebruiker zijn mood heeft ingevuld.</p>    
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>




<!--  Calendar View PAGE! -->
<div data-role="page" data-theme="b" id="CalendarView">

  <div data-role="header" data-position="inline">
  	<h1>Mark My Mood - Calendar View</h1>
		<a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content" data-theme="b">
    <div data-role="fieldcontain" class="ui-field-contain ui-body ui-br">
    <label for="number" class="ui-input-text">Amount of days back to show:</label>
    <input type="number" name="eventsdays" id="eventsdays" value="1" class="ui-input-text ui-body-c ui-corner-all ui-shadow-inset">
   </div>
    <div data-role="fieldcontain" id='categories-container' style="text-align: center;">
 	
    </div>
    
    <div id="events-container">
      <ul data-role="listview" id="events-list" data-theme="b">
      </ul>
    </div>
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>




<!--  Statistics View PAGE! -->
<div data-role="page" data-theme="b" id="Statistics">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Statistics</h1>
		<a href="#Home" rel="external" data-icon="arrow-l" class="ui-btn-left" data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content"> 
   <p>Hier komen de statistieken.</p>    
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>



<!-- Sleep Page! -->
<div data-role="page" data-theme="b" id="SleepTime">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Amount of Sleep</h1>
<a href="#MarkMyMood" data-icon="arrow-l" rel="external" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

	
  <div data-role="content">
   <p>How many hours did you sleep?</p>
	 <input type="range" name="slider-many-hours" id="slider-many-hours" value="8" min="1" max="22" data-highlight="true" />   
	 <p>How well did you sleep?</p>
	 <input type="range" name="slider-eff" id="slider-eff" value="7" min="1" max="10" data-highlight="true" />    
  </div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>



<!--  Heart Rate PAGE! -->
<div data-role="page" data-theme="b" id="HeartRate">

  <div data-role="header" data-position="inline">
  	<h1>Quantify this! - Heart Rate</h1>
<a href="#MarkMyMood" data-icon="arrow-l" rel="external" class="ui-btn-left"  data-transition="slidedown">Back</a>
  </div>

  <div data-role="content"> 
   <div data-role="fieldcontain" class="ui-field-contain ui-body ui-br">
    <label for="number" class="ui-input-text">Heartrate:</label>
    <input type="number" name="heartrate" id="heartrate" value="" class="ui-input-text ui-body-c ui-corner-all ui-shadow-inset">
   </div>
   <div>
    <p id="acceleration"></p>
    <p id="acceleration-gravity"></p>
   </div>

    <script>
    function getLocation()
    {
      if (navigator.geolocation)
      {
	navigator.geolocation.getCurrentPosition(showPosition);
      }
      else{
	x.innerHTML="Geolocation is not supported by this browser.";
      }
    }
    function getTemp(){
      showPosition
    }
    function showPosition(position)
      {
     
	    
			    var APPID = 'dj0yJmk9OTFZSWlwM29rWVRFJmQ9WVdrOWVYQnNVMUZoTjJrbWNHbzlOakV4TnpNMk9UWXkmcz1jb25zdW1lcnNlY3JldCZ4PTky';		// our Yahoo APP id
			    var DEG = 'c';	
			    var lat = position.coords.latitude;
		var lon = position.coords.longitude;
		var geoAPI = 'http://where.yahooapis.com/geocode?location='+lat+','+lon+'&flags=J&gflags=R&appid='+APPID;
	       
		var wsql = 'select * from weather.forecast where woeid=WID and u="'+DEG+'"',
		weatherYQL = 'http://query.yahooapis.com/v1/public/yql?q='+encodeURIComponent(wsql)+'&format=json&callback=?',code, city, results, woeid;
		    
		    $.getJSON(geoAPI, function(r){
		   
		    if(r.ResultSet.Found == 1){
			    
			results = r.ResultSet.Results;
			city = results[0].city;
			code = results[0].statecode || results[0].countrycode;
		
			// This is the city identifier for the Yahoo weather API
			woeid = results[0].woeid;
	    
			// Make a weather API request:
			$.getJSON(weatherYQL.replace('WID',woeid), function(r){
			    if(r.query && r.query.count == 1){
				var item = r.query.results.channel.item.condition;       
				if(!item){
				  $("#temperature").val(null);
				    return null;
				}
				$("#temperature").val(item.temp);
			       return item.temp;
			    }
			    else {
				showError("Error retrieving weather data!");
			    }
			});
		    }     
		}).error(function(){
		    showError("Your browser does not support CORS requests!");
		});
	       
	    }
    
    </script>
</div>

	
  <div data-role="footer">
    <h4>&copy; Quantify This! Designers</h4>
  </div>
</div>
</body>
</html>
